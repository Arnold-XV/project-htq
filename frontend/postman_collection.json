{
  "info": {
    "name": "HTQ Backend API",
    "_postman_id": "htq-backend-collection",
    "description": "Postman collection for HTQ Personality Quiz backend (Next.js API routes)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth - Register",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"P@ssw0rd!\",\n  \"name\": \"Nama Pengguna\"\n}"
        },
        "url": { "raw": "{{baseUrl}}/api/auth/register", "host": ["{{baseUrl}}"], "path": ["api","auth","register"] }
      },
      "response": []
    },
    {
      "name": "Auth - Login",
      "request": {
        "method": "POST",
        "header": [ { "key": "Content-Type", "value": "application/json" } ],
        "body": { "mode": "raw", "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"P@ssw0rd!\"\n}" },
        "url": { "raw": "{{baseUrl}}/api/auth/login", "host": ["{{baseUrl}}"], "path": ["api","auth","login"] }
      }
    },
    {
      "name": "Auth - Logout",
      "request": {
        "method": "POST",
        "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{bearerToken}}" } ],
        "url": { "raw": "{{baseUrl}}/api/auth/logout", "host": ["{{baseUrl}}"], "path": ["api","auth","logout"] }
      }
    },
    {
      "name": "User - Get Profile",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{bearerToken}}" } ],
        "url": { "raw": "{{baseUrl}}/api/user/profile", "host": ["{{baseUrl}}"], "path": ["api","user","profile"] }
      }
    },
    {
      "name": "User - Update Profile",
      "request": {
        "method": "PATCH",
        "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{bearerToken}}" } ],
        "body": { "mode": "raw", "raw": "{\n  \"name\": \"Nama Baru\",\n  \"bio\": \"Bio singkat\"\n}" },
        "url": { "raw": "{{baseUrl}}/api/user/profile", "host": ["{{baseUrl}}"], "path": ["api","user","profile"] }
      }
    },
    {
      "name": "User - Upload Photo (example)",
      "request": {
        "method": "POST",
        "header": [ { "key": "Authorization", "value": "Bearer {{bearerToken}}" } ],
        "body": { "mode": "formdata", "formdata": [ { "key": "file", "type": "file" } ] },
        "url": { "raw": "{{baseUrl}}/api/user/upload-photo", "host": ["{{baseUrl}}"], "path": ["api","user","upload-photo"] }
      }
    },
    {
      "name": "Quiz - Get Questions (subtest)",
      "request": {
        "method": "GET",
        "header": [],
        "url": { "raw": "{{baseUrl}}/api/quiz/questions?subtest=1", "host": ["{{baseUrl}}"], "path": ["api","quiz","questions"], "query": [ { "key": "subtest", "value": "1" } ] }
      }
    },
    {
      "name": "Quiz - Get Adaptive Questions",
      "request": {
        "method": "POST",
        "header": [ { "key": "Content-Type", "value": "application/json" } ],
        "body": { "mode": "raw", "raw": "{\n  \"eDimension\": \"E-H\",\n  \"ego\": \"EGO-H\",\n  \"neo\": \"NEO-L\"\n}" },
        "url": { "raw": "{{baseUrl}}/api/quiz/questions/adaptive", "host": ["{{baseUrl}}"], "path": ["api","quiz","questions","adaptive"] }
      }
    },
    {
      "name": "Quiz - Submit (authenticated)",
      "request": {
        "method": "POST",
        "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{bearerToken}}" } ],
        "body": { "mode": "raw", "raw": "{\n  \"answers\": { \"1\": \"2\", \"2\": \"4\" }\n}" },
        "url": { "raw": "{{baseUrl}}/api/quiz/submit", "host": ["{{baseUrl}}"], "path": ["api","quiz","submit"] }
      }
    },
    {
      "name": "Quiz - Submit (anonymous)",
      "request": {
        "method": "POST",
        "header": [ { "key": "Content-Type", "value": "application/json" } ],
        "body": { "mode": "raw", "raw": "{\n  \"answers\": { \"1\": \"2\", \"2\": \"4\" },\n  \"anonUserId\": \"{{anonUserId}}\"\n}" },
        "url": { "raw": "{{baseUrl}}/api/quiz/submit", "host": ["{{baseUrl}}"], "path": ["api","quiz","submit"] }
      }
    },
    {
      "name": "Quiz - Get Results (by result id)",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{bearerToken}}" } ],
        "url": { "raw": "{{baseUrl}}/api/quiz/results?resultId={{resultId}}", "host": ["{{baseUrl}}"], "path": ["api","quiz","results"], "query": [ { "key": "resultId", "value": "{{resultId}}" } ] }
      }
    },
    {
      "name": "Quiz - Get Anonymous Results",
      "request": {
        "method": "GET",
        "header": [],
        "url": { "raw": "{{baseUrl}}/api/quiz/results/anonymous?anonUserId={{anonUserId}}", "host": ["{{baseUrl}}"], "path": ["api","quiz","results","anonymous"], "query": [ { "key": "anonUserId", "value": "{{anonUserId}}" } ] }
      }
    },
    {
      "name": "User - Merge Anonymous",
      "request": {
        "method": "POST",
        "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{bearerToken}}" } ],
        "body": { "mode": "raw", "raw": "{\n  \"anonUserId\": \"{{anonUserId}}\"\n}" },
        "url": { "raw": "{{baseUrl}}/api/user/merge-anonymous", "host": ["{{baseUrl}}"], "path": ["api","user","merge-anonymous"] }
      }
    }
  ],
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:3000" },
    { "key": "bearerToken", "value": "" },
    { "key": "anonUserId", "value": "anon_XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX" },
    { "key": "resultId", "value": "" }
  ]
}
